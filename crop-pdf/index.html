<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Crop PDF ‚Äì Extract Pages Online | Skill2Job Tools</title>
  <meta name="description" content="Free Crop PDF tool - extract specific pages from PDF instantly. Fast, private, mobile-friendly. Skill2Job Tools">
  <meta name="keywords" content="crop pdf, extract pdf pages, pdf splitter, Skill2Job tools">
  <meta name="author" content="Yadav Subba">
  <link rel="canonical" href="https://tools.skill2job.site/crop-pdf">
  <link rel="icon" type="image/webp" href="https://i.postimg.cc/YCnzSpLg/Official_Logo.webp">
  
  <!-- FONTS + CSS -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/style.css">

  <!-- PDF LIBRARIES -->
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>
</head>
<body>
  <!-- HEADER -->
  <header class="site-header">
    <div class="container header-inner">
      <div class="logo">
        <a href="/"><img src="https://i.postimg.cc/YCnzSpLg/Official_Logo.webp" alt="Skill2Job Logo"></a>
      </div>
      <button class="share-btn" type="button">Share</button>
    </div>
  </header>

  <main class="site-main">
    <!-- CROP PDF TOOL -->
    <section class="section">
      <div class="container">
        <div class="card age-tool-card">
          <h1 class="tool-title">Crop PDF Pages</h1>
          
          <!-- UPLOAD -->
          <div class="input-group">
            <label for="pdfFile">Select PDF File</label>
            <input type="file" id="pdfFile" accept=".pdf">
          </div>
          
          <!-- UPLOAD BUTTON -->
          <button class="calculate-btn" id="uploadBtn">Upload PDF</button>
          
          <!-- UPLOAD SPINNER -->
          <div class="loading" id="uploadLoading">
            <div class="spinner"></div>
            <p>Processing PDF...</p>
          </div>
          
          <!-- RESULT MESSAGE -->
          <div class="result" id="resultMsg"></div>
          
          <!-- PAGE SELECTOR -->
          <div class="input-group" id="pageSelector" style="display:none;">
            <label for="pageSelect">Select Page:</label>
            <select id="pageSelect"></select>
          </div>
          
          <!-- CROP BUTTON -->
          <button class="calculate-btn" id="cropBtn" style="display:none;">Create Cropped PDF</button>
          
          <!-- CROP SPINNER -->
          <div class="loading" id="cropLoading" style="display:none;">
            <div class="spinner"></div>
            <p>Creating cropped PDF...</p>
          </div>
          
          <!-- PDF THUMBNAILS -->
          <div class="pdf-grid" id="pdfGrid"></div>
          
          <!-- DOWNLOAD -->
          <div id="downloadWrapper">
            <a class="calculate-btn" id="downloadBtn" style="display:none;" download>üì• Download Cropped PDF</a>
          </div>
        </div>
      </div>
    </section>

    <!-- ABOUT SECTION -->
    <section class="section">
      <div class="container">
        <div class="card">
          <h2>About This Tool</h2>
          <p>
            Skill2Job's free Crop PDF tool lets you extract specific pages from any PDF file instantly. 
            Perfect for students, professionals, and job seekers who need clean single-page documents. 
            All processing happens locally in your browser - your files stay 100% private and secure. 
            No downloads, no signups, no watermarks. Just upload, select page, and download.
          </p>
        </div>
      </div>
    </section>

    <!-- MORE TOOLS -->
    <section class="section">
      <div class="container">
        <div class="card">
          <h2>More Tools</h2>
          <div class="tools-grid">
            <div class="tool-card">
              <h3>Merge PDF</h3>
              <p>Combine multiple PDFs</p>
              <a class="tool-link" href="/merge-pdf/">Use Tool</a>
            </div>
            <div class="tool-card">
              <h3>Remove Pages</h3>
              <p>Delete unwanted pages</p>
              <a class="tool-link" href="/remove-pages/">Use Tool</a>
            </div>
            <div class="tool-card">
              <h3>Age Calculator</h3>
              <p>Calculate exact age</p>
              <a class="tool-link" href="/age-calculator">Use Tool</a>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="site-footer">
    <p><strong>Skill2Job Tools</strong> | <a href="/">Home</a> | <a href="/about">About</a> | <a href="/privacy">Privacy</a> | <a href="/terms">Terms</a></p>
    <p>¬© 2026 Skill2Job</p>
  </footer>

  <!-- COMPLETE WORKING JAVASCRIPT -->
  <script>
  (function() {
    'use strict';
    
    let pdfDoc = null;
    let currentPage = 1;
    
    // PDF.js worker setup
    if (typeof pdfjsLib !== 'undefined') {
      pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
    }
    
    // Wait for DOM and libraries
    function ready(callback) {
      if (document.readyState === 'complete' && typeof pdfjsLib !== 'undefined' && typeof PDFLib !== 'undefined') {
        callback();
      } else {
        const checkReady = setInterval(() => {
          if (document.readyState === 'complete' && typeof pdfjsLib !== 'undefined' && typeof PDFLib !== 'undefined') {
            clearInterval(checkReady);
            callback();
          }
        }, 100);
      }
    }
    
    ready(function() {
      // Cache elements
      const elements = {
        uploadBtn: document.getElementById('uploadBtn'),
        cropBtn: document.getElementById('cropBtn'),
        downloadBtn: document.getElementById('downloadBtn'),
        pdfFile: document.getElementById('pdfFile'),
        resultMsg: document.getElementById('resultMsg'),
        pageSelector: document.getElementById('pageSelector'),
        pageSelect: document.getElementById('pageSelect'),
        pdfGrid: document.getElementById('pdfGrid'),
        uploadLoading: document.getElementById('uploadLoading'),
        cropLoading: document.getElementById('cropLoading'),
        downloadWrapper: document.getElementById('downloadWrapper')
      };
      
      // Event listeners
      elements.uploadBtn.addEventListener('click', handleUpload);
      elements.cropBtn.addEventListener('click', handleCrop);
      elements.pageSelect.addEventListener('change', function() {
        currentPage = parseInt(this.value);
      });
      
      // Share button
      document.querySelector('.share-btn').addEventListener('click', handleShare);
      
      async function handleUpload() {
        const file = elements.pdfFile.files[0];
        
        if (!file) {
          showMessage('Please select a PDF file first!', 'error');
          return;
        }
        
        // Show upload spinner
        elements.uploadLoading.style.display = 'block';
        elements.resultMsg.style.display = 'none';
        hideAll();
        
        try {
          // Load PDF
          const pdfUrl = URL.createObjectURL(file);
          pdfDoc = await pdfjsLib.getDocument(pdfUrl).promise;
          
          // Hide spinner, show success
          elements.uploadLoading.style.display = 'none';
          showMessage(`‚úÖ PDF loaded successfully! (${pdfDoc.numPages} pages)`, 'success');
          
          // Setup page selector
          elements.pageSelector.style.display = 'block';
          elements.cropBtn.style.display = 'block';
          elements.pageSelect.innerHTML = '';
          
          for (let i = 1; i <= pdfDoc.numPages; i++) {
            const option = document.createElement('option');
            option.value = i;
            option.textContent = `Page ${i}`;
            elements.pageSelect.appendChild(option);
          }
          
          // Show thumbnails
          await showThumbnails();
          
        } catch (error) {
          elements.uploadLoading.style.display = 'none';
          showMessage('‚ùå Failed to load PDF. Please try another file.', 'error');
          console.error('Upload error:', error);
        }
      }
      
      async function showThumbnails() {
        elements.pdfGrid.innerHTML = '';
        elements.pdfGrid.style.display = 'grid';
        
        // Show first 8 pages max
        const pagesToShow = Math.min(pdfDoc.numPages, 8);
        
        for (let i = 1; i <= pagesToShow; i++) {
          const page = await pdfDoc.getPage(i);
          const scale = 0.2;
          const viewport = page.getViewport({ scale });
          
          const canvas = document.createElement('canvas');
          const context = canvas.getContext('2d');
          canvas.height = viewport.height;
          canvas.width = viewport.width;
          
          await page.render({ canvasContext: context, viewport }).promise;
          
          const pageDiv = document.createElement('div');
          pageDiv.className = 'pdf-page';
          pageDiv.dataset.page = i;
          pageDiv.innerHTML = '<span class="remove-mark">√ó</span>';
          pageDiv.appendChild(canvas);
          
          pageDiv.addEventListener('click', () => selectPage(i));
          elements.pdfGrid.appendChild(pageDiv);
        }
      }
      
      function selectPage(pageNum) {
        currentPage = pageNum;
        elements.pageSelect.value = pageNum;
        
        document.querySelectorAll('.pdf-page').forEach(page => {
          page.classList.toggle('selected', parseInt(page.dataset.page) === pageNum);
        });
      }
      
      async function handleCrop() {
        if (!pdfDoc) {
          showMessage('Please upload a PDF first!', 'error');
          return;
        }
        
        // Show crop spinner
        elements.cropLoading.style.display = 'block';
        hideAll();
        
        try {
          // Get original PDF data
          const pdfBytes = await pdfDoc.getData();
          
          // Load with PDF-Lib
          const pdfDocLib = await PDFLib.PDFDocument.load(pdfBytes);
          
          // Copy selected page only
          const [copiedPage] = await pdfDocLib.copyPages(pdfDocLib, [currentPage - 1]);
          const newPdf = await PDFLib.PDFDocument.create();
          newPdf.addPage(copiedPage);
          
          // Save new PDF
          const newPdfBytes = await newPdf.save();
          
          // Create download
          const blob = new Blob([newPdfBytes], { type: 'application/pdf' });
          const url = URL.createObjectURL(blob);
          
          elements.downloadBtn.href = url;
          elements.downloadBtn.download = `skill2job-cropped-page-${currentPage}.pdf`;
          elements.downloadWrapper.style.display = 'block';
          
          showMessage(`‚úÖ Cropped PDF ready! Page ${currentPage}`, 'success');
          
        } catch (error) {
          elements.cropLoading.style.display = 'none';
          showMessage('‚ùå Failed to create PDF. Please try again.', 'error');
          console.error('Crop error:', error);
        }
        
        elements.cropLoading.style.display = 'none';
      }
      
      function showMessage(text, type = 'success') {
        elements.resultMsg.innerHTML = `<strong>${type === 'error' ? '‚ùå' : '‚úÖ'} ${text}</strong>`;
        elements.resultMsg.style.display = 'block';
        elements.resultMsg.style.background = type === 'error' ? '#fee2e2' : '';
      }
      
      function hideAll() {
        elements.pageSelector.style.display = 'none';
        elements.pdfGrid.style.display = 'none';
        elements.downloadWrapper.style.display = 'none';
        elements.cropBtn.style.display = 'none';
      }
      
      async function handleShare() {
        const shareData = {
          title: 'Crop PDF - Skill2Job Tools',
          text: 'Extract PDF pages instantly online!',
          url: window.location.href
        };
        
        try {
          if (navigator.share) {
            await navigator.share(shareData);
          } else {
            await navigator.clipboard.writeText(window.location.href);
            const btn = document.querySelector('.share-btn');
            const original = btn.textContent;
            btn.textContent = 'Copied!';
            setTimeout(() => btn.textContent = original, 2000);
          }
        } catch {
          prompt('Copy this link:', window.location.href);
        }
      }
    });
  })();
  </script>
</body>
</html>
