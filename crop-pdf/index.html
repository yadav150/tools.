<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- TITLE -->
  <title>Crop PDF ‚Äì Crop Your PDF Online | Skill2Job Tools</title>

  <!-- PRIMARY SEO -->
  <meta name="description" content="Use Skill2Job's free Crop PDF tool to easily crop and adjust PDF pages online. Fast, accurate, and mobile-friendly.">
  <meta name="keywords" content="crop pdf, pdf crop online, adjust pdf pages, pdf editor online, Skill2Job tools">
  <meta name="author" content="Yadav Subba">
  <meta name="robots" content="index, follow">

  <!-- CANONICAL -->
  <link rel="canonical" href="https://tools.skill2job.site/crop-pdf">

  <!-- FAVICON & TOUCH ICON (preload) -->
  <link rel="preload" href="/favicon.ico" as="image">
  <link rel="icon" type="image/webp" href="/favicon">
  <link rel="apple-touch-icon" href="/favicon">

  <!-- SOCIAL / OG TAGS -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Crop PDF ‚Äì Free Online Tool | Skill2Job">
  <meta property="og:description" content="Crop your PDF pages online easily. Accurate, fast, and mobile-friendly PDF tool.">
  <meta property="og:url" content="https://tools.skill2job.site/crop-pdf">
  <meta property="og:image" content="/favicon">
  <meta property="og:site_name" content="Skill2Job Tools">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Crop PDF ‚Äì Skill2Job Tools">
  <meta name="twitter:description" content="Free online Crop PDF tool by Skill2Job. Crop PDF pages easily and quickly.">
  <meta name="twitter:image" content="/favicon">

  <!-- FONTS (PERFORMANCE) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">

  <!-- EXTERNAL CSS -->
  <link rel="stylesheet" href="/style.css">

  <!-- STRUCTURED DATA (JSON-LD) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Crop PDF",
    "url": "https://tools.skill2job.site/crop-pdf",
    "applicationCategory": "UtilityApplication",
    "operatingSystem": "All",
    "description": "Free online Crop PDF tool to crop and adjust PDF pages easily and accurately.",
    "author": { "@type": "Person", "name": "Yadav Subba" },
    "publisher": { 
      "@type": "Organization",
      "name": "Skill2Job",
      "logo": { "@type": "ImageObject", "url": "/favicon" }
    }
  }
  </script>
  
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1876390706944654" crossorigin="anonymous"></script>
</head>
<body>
  <!-- HEADER (with improved share button) -->
  <header class="site-header">
    <div class="container header-inner">
      <div class="logo">
        <a href="/">
          <img src="https://i.postimg.cc/YCnzSpLg/Official_Logo.webp" alt="Skill2Job Logo">
        </a>
      </div>
      <button class="share-btn" type="button" aria-label="Share Age Calculator">Share</button>
    </div>
  </header>

  <!-- MAIN CONTENT -->
  <main class="site-main">
<section class="section">
  <div class="container">
    <div class="card age-tool-card">
      <h1 class="tool-title">‚úÇÔ∏è Crop PDF</h1>
      
      <!-- Upload Area -->
      <div class="input-group">
        <label>Upload PDF File</label>
        <input type="file" id="pdfFile" accept="application/pdf" style="display:none;">
        <button class="calculate-btn" onclick="document.getElementById('pdfFile').click()">
          üìÅ Choose PDF File
        </button>
        <small style="display:block;margin-top:8px;color:#666;">Supports multi-page PDFs - up to 50MB</small>
      </div>

      <!-- Loading -->
      <div class="loading" id="loading" style="display:none;">
        <div class="spinner"></div>
      </div>
      
      <!-- Status Messages -->
      <div class="result" id="statusMsg"></div>

      <!-- Page Selector (Multi-page only) -->
      <div class="input-group" id="pageSelector" style="display:none;">
        <label for="pageSelect">Select Page to Crop:</label>
        <select id="pageSelect" class="calculate-btn"></select>
      </div>

      <!-- CROPPING DASHBOARD -->
      <div id="cropDashboard" style="display:none;">
        <div style="text-align:center;margin-bottom:16px;font-weight:500;color:var(--primary);">
          üëÜ Drag & Resize Red Box to Set Crop Area
        </div>
        <div id="pdfPreview" style="max-height:500px;overflow:auto;border:1px solid var(--border);border-radius:var(--radius);background:#fff;padding:16px;"></div>
        <button class="calculate-btn" id="cropBtn" style="margin-top:16px;width:100%;">
          ‚úÇÔ∏è Apply Crop & Download
        </button>
      </div>

      <!-- Download Result -->
      <div class="result" id="downloadArea" style="display:none;"></div>
    </div>
  </div>
</section>

    <!-- ABOUT TOOL -->
    <section class="section">
      <div class="container">
        <div class="card">
          <h2>About This Tool</h2>
          <p>
Skill2Job's free Age Calculator allows you to quickly and accurately calculate your exact age in years, months, and days based on your date of birth. 
This online tool is simple to use, mobile-friendly, and works seamlessly on all devices without requiring any downloads or installations. 
All calculations are performed locally on your device, ensuring your personal information is never stored, shared, or tracked. 
Whether you want to know your precise age for official purposes, planning, or curiosity, this tool provides instant results with complete privacy. 
Our Age Calculator is designed for students, job seekers, professionals, and anyone who wants a reliable, fast, and easy way to calculate age online. 
Experience convenience, accuracy, and safety with Skill2Job's Age Calculator today.
          </p>
        </div>
      </div>
    </section>

    <!-- MORE TOOLS -->
    <section class="section">
      <div class="container">
        <div class="card">
          <h2>More Tools</h2>
          <div class="tools-grid">
            <div class="tool-card">
              <h3>Merge PDF</h3>
              <p>Combine multiple PDF files into one.</p>
              <a class="tool-link" href="/merge-pdf/">Use Tool</a>
            </div>
            <div class="tool-card">
              <h3>Remove PDF Pages</h3>
              <p>Delete selected pages from a PDF file.</p>
              <a class="tool-link" href="/remove-pages/">Use Tool</a>
            </div>
            <div class="tool-card">
              <h3>Crop PDF</h3>
              <p>Crop and adjust PDF pages easily.</p>
              <a class="tool-link" href="/crop-pdf/">Use Tool</a>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="site-footer">
  <p>
    <strong>Skill2Job Tools</strong> | 
    <a href="/">Home</a> | 
    <a href="/about">About</a> | 
    <a href="/contact">Contact</a> | 
    <a href="/privacy">Privacy</a> | 
    <a href="/terms">Terms</a>
  </p>
  <p>¬© 2026 Skill2Job</p>
</footer>

  <!-- MAIN JAVASCRIPT (Fully functional flow) -->
<!-- PDF Libraries -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.15.349/pdf.min.js"></script>
<script>pdfjsLib.GlobalWorkerOptions.workerSrc='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.15.349/pdf.worker.min.js';</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.17.1/pdf-lib.min.js"></script>

<script>
let pdfData, pdfDocument, currentPage = 0, cropRect, pdfCanvas, scaleX, scaleY;

// ===== UPLOAD HANDLER =====
document.getElementById('pdfFile').addEventListener('change', async function(e) {
  const file = e.target.files[0];
  if (!file) return;
  
  // Show loading
  document.getElementById('loading').style.display = 'block';
  document.getElementById('statusMsg').innerHTML = '<strong>üì§ Uploading PDF...</strong>';
  document.getElementById('statusMsg').style.display = 'block';
  
  try {
    // Read file
    pdfData = await file.arrayBuffer();
    
    // Parse PDF
    pdfDocument = await pdfjsLib.getDocument({data: pdfData}).promise;
    
    // Hide loading
    document.getElementById('loading').style.display = 'none';
    
    // Page selector for multi-page
    const pageSelector = document.getElementById('pageSelector');
    const pageSelect = document.getElementById('pageSelect');
    if (pdfDocument.numPages > 1) {
      pageSelector.style.display = 'block';
      pageSelect.innerHTML = '';
      for(let i = 1; i <= pdfDocument.numPages; i++) {
        const option = document.createElement('option');
        option.value = i-1;
        option.textContent = `Page ${i}`;
        pageSelect.appendChild(option);
      }
    }
    
    // Show first page
    await renderPage(0);
    document.getElementById('cropDashboard').style.display = 'block';
    document.getElementById('statusMsg').innerHTML = '<strong>üéØ READY!</strong> Drag/resize red box, then click Apply Crop';
    
  } catch(error) {
    document.getElementById('loading').style.display = 'none';
    document.getElementById('statusMsg').innerHTML = `<strong>‚ùå Error:</strong> ${error.message}`;
    console.error('PDF Error:', error);
  }
});

// ===== PAGE CHANGE =====
document.getElementById('pageSelect').addEventListener('change', function(e) {
  currentPage = parseInt(e.target.value);
  renderPage(currentPage);
});

// ===== RENDER PDF PAGE =====
async function renderPage(pageIndex) {
  const page = await pdfDocument.getPage(pageIndex + 1);
  const viewport = page.getViewport({scale: 1.4});
  
  // Create canvas
  const container = document.getElementById('pdfPreview');
  container.innerHTML = '';
  
  pdfCanvas = document.createElement('canvas');
  pdfCanvas.width = viewport.width;
  pdfCanvas.height = viewport.height;
  pdfCanvas.style.maxWidth = '100%';
  pdfCanvas.style.display = 'block';
  pdfCanvas.style.margin = '0 auto';
  
  // Render page
  await page.render({
    canvasContext: pdfCanvas.getContext('2d'),
    viewport: viewport
  }).promise;
  
  // Create wrapper + crop rect
  const wrapper = document.createElement('div');
  wrapper.className = 'pdf-page';
  wrapper.appendChild(pdfCanvas);
  
  cropRect = document.createElement('div');
  cropRect.className = 'crop-rect';
  cropRect.style.left = '8%';
  cropRect.style.top = '8%';
  cropRect.style.width = '84%';
  cropRect.style.height = '84%';
  
  // Make draggable
  makeDraggable(cropRect, wrapper);
  
  wrapper.appendChild(cropRect);
  container.appendChild(wrapper);
}

// ===== DRAGGABLE CROP BOX =====
function makeDraggable(cropBox, container) {
  let isDragging = false, startX, startY, startLeft, startTop;
  
  cropBox.addEventListener('mousedown', function(e) {
    const rect = cropBox.getBoundingClientRect();
    if (e.clientX > rect.right - 20 && e.clientY > rect.bottom - 20) return; // Resize corner
    
    isDragging = true;
    startX = e.clientX;
    startY = e.clientY;
    startLeft = parseFloat(cropBox.style.left) || 0;
    startTop = parseFloat(cropBox.style.top) || 0;
    e.preventDefault();
  });
  
  document.addEventListener('mousemove', function(e) {
    if (!isDragging) return;
    
    const containerRect = container.getBoundingClientRect();
    let newLeft = startLeft + (e.clientX - startX);
    let newTop = startTop + (e.clientY - startY);
    
    // Boundaries
    newLeft = Math.max(0, Math.min(newLeft, containerRect.width - cropBox.offsetWidth));
    newTop = Math.max(0, Math.min(newTop, containerRect.height - cropBox.offsetHeight));
    
    cropBox.style.left = newLeft + 'px';
    cropBox.style.top = newTop + 'px';
  });
  
  document.addEventListener('mouseup', function() {
    isDragging = false;
  });
}

// ===== CROP & DOWNLOAD =====
document.getElementById('cropBtn').addEventListener('click', async function() {
  if (!pdfData || !cropRect || !pdfCanvas) {
    document.getElementById('statusMsg').innerHTML = 'Please upload PDF first';
    return;
  }
  
  document.getElementById('loading').style.display = 'block';
  document.getElementById('statusMsg').innerHTML = '<strong>‚öôÔ∏è Cropping PDF...</strong>';
  
  setTimeout(async () => {
    try {
      // Load original PDF
      const pdfDocLib = await PDFLib.PDFDocument.load(pdfData);
      const newPdf = await PDFLib.PDFDocument.create();
      
      // Copy selected page
      const [page] = await newPdf.copyPages(pdfDocLib, [currentPage]);
      
      // Calculate crop area
      const canvasRect = pdfCanvas.getBoundingClientRect();
      const cropRectPos = cropRect.getBoundingClientRect();
      
      scaleX = page.getWidth() / canvasRect.width;
      scaleY = page.getHeight() / canvasRect.height;
      
      const cropX = (cropRectPos.left - canvasRect.left) * scaleX;
      const cropY = (canvasRect.height - (cropRectPos.bottom - canvasRect.top)) * scaleY;
      const cropW = cropRectPos.width * scaleX;
      const cropH = cropRectPos.height * scaleY;
      
      // Apply crop
      page.setCropBox(cropX, cropY, cropW, cropH);
      newPdf.addPage(page);
      
      // Generate download
      const finalPdf = await newPdf.save();
      const blob = new Blob([finalPdf], {type: 'application/pdf'});
      const url = URL.createObjectURL(blob);
      
      // Show download
      document.getElementById('downloadArea').innerHTML = `
        <strong>‚úÖ PDF Cropped Successfully!</strong><br><br>
        <a href="${url}" download="cropped-page-${currentPage + 1}.pdf" class="tool-link" style="font-size:16px;padding:12px 24px;">
          üì• Download Cropped PDF
        </a>
      `;
      document.getElementById('downloadArea').style.display = 'block';
      document.getElementById('statusMsg').innerHTML = 'üéâ Ready! Download your cropped PDF above.';
      
    } catch(error) {
      document.getElementById('statusMsg').innerHTML = `<strong>‚ùå Error:</strong> ${error.message}`;
      console.error('Crop error:', error);
    }
    
    document.getElementById('loading').style.display = 'none';
  }, 1000);
});

// ===== SHARE BUTTON =====
document.addEventListener('click', function(e) {
  if (e.target.classList.contains('share-btn')) {
    if (navigator.share) {
      navigator.share({
        title: 'Crop PDF Tool - Skill2Job',
        url: window.location.href
      });
    } else {
      navigator.clipboard.writeText(window.location.href);
      alert('üîó Link copied to clipboard!');
    }
  }
});
</script>

</body>
</html>
